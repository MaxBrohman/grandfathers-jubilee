(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{3:function(t,e,s){"use strict";s.r(e);var i=function(){function t(t){this.fireworks=[],this.scene=t,this.draw=this.draw.bind(this)}return t.prototype.draw=function(){10===THREE.Math.randInt(1,20)&&this.fireworks.push(new o(this.scene));for(var t=0;t<this.fireworks.length;t++)this.fireworks[t].done?this.fireworks.splice(t,1):this.fireworks[t].update()},t}();e.default=i;var o=function(){function t(t){this.done=!1,this.dest=[],this.colors=[],this.geometry=new THREE.Geometry,this.material=new THREE.PointsMaterial({size:16,color:16777215,opacity:1,transparent:!0,depthTest:!1,vertexColors:THREE.VertexColors}),this.scene=t,this.points=new THREE.Points(this.geometry,this.material),this.launch()}return t.prototype.update=function(){if(this.points&&this.geometry){for(var t=this.geometry.vertices.length,e=0;e<t;e++){var s=this.geometry.vertices[e],i=this.dest[e];s.x+=(i.x-s.x)/20,s.y+=(i.y-s.y)/20,s.z+=(i.z-s.z)/20,this.geometry.verticesNeedUpdate=!0}if(1===t){var o=this.geometry.vertices[0];if(THREE.Math.ceilPowerOfTwo(o.y)>this.dest[0].y-20)return void this.explode(o)}if(t>1&&(this.material.opacity-=.015,this.geometry.colorsNeedUpdate=!0),this.material.opacity<=0)return this.reset(),void(this.done=!0)}},t.prototype.launch=function(){var t=window.innerWidth,e=THREE.Math.randInt(-t,t),s=THREE.Math.randInt(100,800),i=THREE.Math.randInt(-1e3,-3e3),o=new THREE.Vector3(e,-800,i),r=new THREE.Vector3(e,s,i),n=new THREE.Color;n.setHSL(THREE.Math.randFloat(.1,.9),1,.9),this.colors.push(n),this.geometry.colors=this.colors,this.geometry.vertices.push(o),this.dest.push(r),this.colors.push(n),this.scene.add(this.points)},t.prototype.explode=function(t){this.scene.remove(this.points),this.dest=[],this.colors=[],this.geometry=new THREE.Geometry,this.points=new THREE.Points(this.geometry,this.material);for(var e=0;e<80;e++){var s=new THREE.Color;s.setHSL(THREE.Math.randFloat(.1,.9),1,.5),this.colors.push(s);var i=new THREE.Vector3(THREE.Math.randInt(t.x-10,t.x+10),THREE.Math.randInt(t.y-10,t.y+10),THREE.Math.randInt(t.z-10,t.z+10)),o=new THREE.Vector3(THREE.Math.randInt(t.x-1e3,t.x+1e3),THREE.Math.randInt(t.y-1e3,t.y+1e3),THREE.Math.randInt(t.z-1e3,t.z+1e3));this.geometry.vertices.push(i),this.dest.push(o)}this.geometry.colors=this.colors,this.scene.add(this.points)},t.prototype.reset=function(){this.scene.remove(this.points),this.dest=[],this.colors=[],this.geometry=null,this.points=null},t}()}}]);
//# sourceMappingURL=fireworks.js.map